(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=(a(25),a(11)),l=a(6),u=a(7),m=a(1);a(26),a(27);function s(e){var t=e.day;return r.a.createElement("div",{className:"card-container"},r.a.createElement("h4",null,t.dayName),r.a.createElement("span",null,"temp: ".concat(t.temp)),r.a.createElement("br",null),r.a.createElement("span",null,t.description))}function d(e){var t,a=e.currentCity,c=e.getForecast,o=e.favoritCity,i=e.apiKey,u=e.fiveDays,m=e.getCurrentCity,d=e.addOrRemoveItem,y=Object(n.useState)(),h=Object(l.a)(y,2),f=h[0],p=h[1],v=Object(n.useState)([]),E=Object(l.a)(v,2),g=E[0],b=E[1],k="215854",D="Tel Aviv",j=function(e){m(e.target.id,e.target.name),c(e.target.id,e.target.name),b([])};Object(n.useEffect)((function(){o.length>0||(m(k,D),c(k,D))}),[]),Object(n.useEffect)((function(){""!==f&&fetch("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(i,"&q=").concat(f)).then((function(e){return e.json()})).then((function(e){for(var t=[],a={},n=0;n<e.length;n++)a={name:e[n].LocalizedName,id:e[n].Key,country:e[n].Country.LocalizedName},t.push(a);b(t)})).catch((function(e){console.error("Error:",e),alert("error!  Something wrong...")}))}),[f]),g.length&&(t=r.a.createElement("div",null,g.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("a",{href:"#",className:"a",onClick:j,id:e.id,name:e.name},e.name,"(",e.country.toLowerCase(),")"))}))));var N="Add to favorites";return o&&o.find((function(e){return e===a.name}))&&(N="Remove from favorites "),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"WEATHER APP"),r.a.createElement("div",null,r.a.createElement("div",{className:"button-container"},r.a.createElement("input",{type:"text",onChange:function(e){e.target.value.match(/^[A-Za-z ]+$/)&&p(e.target.value)},placeholder:"Search..."}),t)),r.a.createElement("div",null,a?r.a.createElement("div",null,r.a.createElement("h2",null,a.name),r.a.createElement("h5",null,"".concat(a.temp," C")),r.a.createElement("button",{className:"add-button",onClick:d},N)):null),r.a.createElement("div",null,u?r.a.createElement("div",{className:"card-list"},u.map((function(e){return r.a.createElement(s,{day:e,key:e.key})}))):null))}a(28);function y(e){var t=e.favorites,a=e.linkToHome;return r.a.createElement("div",null,r.a.createElement("h2",null,"Favorites"),t.map((function(e){return r.a.createElement(u.b,{to:"/",className:"link",onClick:function(){a(e.id,e.name)},key:e.id}," ",r.a.createElement("div",{className:"card"},r.a.createElement("h3",null,e.name),r.a.createElement("span",null,"".concat(e.temp," C")),r.a.createElement("br",null),r.a.createElement("span",null,e.description)))})))}a(34),a(35);function h(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("nav",null," ",r.a.createElement(u.b,{to:"/"},"Home")),r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/favorites"},"Favorites")))}var f=function(){var e="QPLWLUMvzwLkfk9LzC2r3k8dkZ4g96oh",t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),f=Object(l.a)(s,2),p=f[0],v=f[1],E=Object(n.useState)(),g=Object(l.a)(E,2),b=g[0],k=g[1],D=Object(n.useState)(),j=Object(l.a)(D,2),N=j[0],w=j[1],O=function(t,a){fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(e)).then((function(e){return e.json()})).then((function(e){w({discreption:e[0].WeatherText,name:a,id:t,icon:e[0].WeatherIcon,temp:e[0].Temperature.Metric.Value})})).catch((function(e){console.error("Error:",e),alert("error!  Something wrong with calling a server")}))},F=new Date,C=new Array(7);C[0]="Sunday",C[1]="Monday",C[2]="Tuesday",C[3]="Wednesday",C[4]="Thursday",C[5]="Friday",C[6]="Saturday",C[7]="Sunday",C[8]="Monday",C[9]="Tuesday",C[10]="Wednesday";var M=function(t,a){fetch("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(e)).then((function(e){return e.json()})).then((function(e){k([{cityName:a,id:t,dayName:C[F.getDay()],temp:Math.round(S([e.DailyForecasts[0].Temperature.Maximum.Value])),description:e.DailyForecasts[0].Day.IconPhrase,icon:e.DailyForecasts[0].Day.Icon,key:0},{dayName:C[F.getDay()+1],temp:Math.round(S([e.DailyForecasts[1].Temperature.Maximum.Value])),description:[e.DailyForecasts[2].Day.IconPhrase],key:1},{dayName:C[F.getDay()+2],temp:Math.round(S([e.DailyForecasts[2].Temperature.Maximum.Value])),description:[e.DailyForecasts[2].Day.IconPhrase],key:2},{dayName:C[F.getDay()+3],temp:Math.round(S([e.DailyForecasts[3].Temperature.Maximum.Value])),description:[e.DailyForecasts[3].Day.IconPhrase],key:3},{dayName:C[F.getDay()+4],temp:Math.round(S([e.DailyForecasts[4].Temperature.Maximum.Value])),description:[e.DailyForecasts[4].Day.IconPhrase],key:4}])})).catch((function(e){console.error("Error:",e),alert("error!  Something wrong with calling a server, please choose a city")}))},S=function(e){return 5/9*(e-32)};return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/Favorites"},r.a.createElement(y,{favorites:c,apiKey:e,linkToHome:function(e,t){M(e,t),O(e,t)},getForecast:M})," ")," ",r.a.createElement(m.a,{path:"/"},r.a.createElement(d,{getForecast:M,favoritCity:p,apiKey:e,fiveDays:b,getCurrentCity:O,currentCity:N,addOrRemoveItem:function(){var e=p.findIndex((function(e){return e===b[0].cityName}));if(-1!==e){var t=Object(i.a)(c),a=Object(i.a)(p);return t.splice(e,1),a.splice(e,1),o(t),void v(a)}o([].concat(Object(i.a)(c),[N])),v([].concat(Object(i.a)(p),[b[0].cityName]))}})," ")," ")," ")," ")," ")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.6483efea.chunk.js.map